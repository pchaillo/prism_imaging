            app.StateLampOpotek.Color = [0 0 1];
            path(path,'code/code_for_mapping')
            path(path,'code/hardware/laser')
            global scan;
            scan.voltage_value = app.EnergylevelVSpinner.Value;
%             global opotek
            global laser

            scan.voltage_value = app.EnergylevelVSpinner.Value;
            laser.type = app.LaserDropDown.Value;

            disp(scan.voltage_value)
            disp(laser.type)

            if laser.type == "Opotek IR Radiant" 
                laser.connection = 
            elseif laser.type == "Opolette"
            
            end

%             opotek = init_opotek();
%             state_double = get_state(opotek);
%             set_voltage(scan.voltage_value,opotek);
%             state_text = choose_state_text(state_double);
%             if state_double ~= 0 && state_double ~= -1
%                 app.StateLampOpotek.Color = [0 1 0];
%             end
%             app.AffichageState.Text = state_text;
%             
%             temp = get_temp(opotek);
%             text_temp = strcat('Temperature : ', num2str(temp),'°C');
%             app.AffichageTemperature.Text = text_temp;
%             
%             wdog_loop = 1;
%             while wdog_loop == 1
%                 state_double = get_state(opotek);
%                 if state_double == -1
%                     wdog_loop = 0;
%                     disp('Plus de retour Opotek')
%                 end
%                 state_text = choose_state_text(state_double);
%                 app.AffichageState.Text = state_text;
%                 pause(2);
%             end